<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Die Frankfurter Allgemeine Zeitung corpus scraper</title>
        <script type="text/javascript" src="fazapi.js"></script>
        <script type="text/javascript" src="../jszip.min.js"></script>
        <link rel="stylesheet" type="text/css" href="fazapi.css" />
        <link href="../icons/favicon.ico" rel="icon" type="image/x-icon" />
    </head>
    <body>
        <fieldset>
            <legend>The Frankfurter Allgemeine Zeitung corpus scraper</legend>
            <div class="wrapper">
                <div>
                    ⚠️ Registering with the Frankfurter Allgemeine Zeitung is
                    necessary to scrape article content. Premium articles are
                    reserved for subscribers.
                    <a href="https://www.faz.net/aktuell/" target="_blank"
                        >Log into your account</a
                    >
                    before starting.
                </div>
                <br />
                <div>
                    <label for="url-input" class="search-ui"
                        >Enter a query URL:
                    </label>
                    <input
                        class="url-input"
                        id="url-input"
                        type="url"
                        placeholder="Query URL"
                    />
                </div>
                <div
                    id="show-search"
                    class="show-search"
                    style="display: none; text-align: center"
                >
                    <b>Show query builder</b>
                </div>
                <div
                    id="hide-search"
                    class="show-search"
                    style="display: none; text-align: center"
                >
                    <b>Hide query builder</b>
                </div>
                <div id="search-container">
                    <div style="margin-bottom: 10px">
                        <br />
                        <b>Or build your search query:</b>
                    </div>
                    <div style="text-align: center">
                        <select id="search-type">
                            <option value="guided">Guided mode</option>
                            <option value="expert">Expert mode</option>
                        </select>
                    </div>
                    <div id="guided-search">
                        <div>
                            <label for="all-words" class="search-ui"
                                >All of these words:</label
                            >
                            <input
                                type="text"
                                placeholder="All of these words"
                                class="search-input"
                                name="all-words"
                                id="all-words"
                            />
                        </div>
                        <div>
                            <label for="any-words" class="search-ui"
                                >Any of these words:</label
                            >
                            <input
                                type="text"
                                placeholder="Any of these words"
                                class="search-input"
                                name="any-words"
                                id="any-words"
                            />
                        </div>
                        <div>
                            <label for="exact-phrase" class="search-ui"
                                >Exact phrase:</label
                            >
                            <input
                                type="text"
                                placeholder="Exact phrase"
                                class="search-input"
                                name="exact-phrase"
                                id="exact-phrase"
                            />
                        </div>
                        <div>
                            <label for="no-words" class="search-ui"
                                >Words to exclude:</label
                            >
                            <input
                                type="text"
                                placeholder="Words to exclude"
                                class="search-input"
                                name="no-words"
                                id="no-words"
                            />
                        </div>
                    </div>
                    <div id="expert-search" style="display: none">
                        <p style="text-align: center">
                            Enter the keywords you want to search for below.<br />You
                            may use booleans (AND, OR, NOT), double quotes and
                            parentheses for grouping.
                        </p>
                        <label for="keywords" class="search-ui"
                            >Keywords:</label
                        >
                        <input
                            name="keywords"
                            id="keywords"
                            type="text"
                            placeholder="Keywords"
                        />
                    </div>
                    <div>
                        <label for="from-date" class="search-ui">From:</label>
                        <input name="from-date" id="from-date" type="date" />
                    </div>
                    <div>
                        <label for="to-date" class="search-ui">To:</label>
                        <input name="to-date" id="to-date" type="date" />
                    </div>
                    <div>
                        <label for="order-option" class="search-ui"
                            >Sort by:</label
                        >
                        <select
                            name="order-option"
                            class="search-option"
                            id="order-option"
                        >
                            <option value="newest">Newest first</option>
                            <option value="oldest">Oldest first</option>
                            <option value="rel">Relevance</option>
                        </select>
                    </div>
                    <div>
                        <label for="include-paid" class="search-ui"
                            >Include premium articles?</label
                        >
                        <input
                            type="checkbox"
                            name="include-paid"
                            id="include-paid"
                            class="checkbox"
                        />
                    </div>
                    <button class="trigger-search" style="display: inline">
                        Search
                    </button>
                    <div
                        class="spinner"
                        id="search-spinner"
                        style="display: none"
                    ></div>
                </div>
                <button class="reset-form">Reset form</button>
            </div>
            <br />
            <br />
            <div id="results-container" style="display: none">
                <div id="query-url-div"></div>
                <div id="results-overview"></div>
                <button
                    class="abort-button"
                    id="abort-search-btn"
                    style="display: none"
                >
                    Abort search
                </button>
                <br />
                <div id="extract-container" style="display: none">
                    <div>
                        <select id="extract-option">
                            <option value="all">Extract all</option>
                            <option value="selection">Extract sample</option>
                        </select>
                        <span
                            id="extract-select-container"
                            style="display: none"
                        >
                            <label for="extract-select">Extract first </label>
                            <input id="extract-select" type="number" />
                            <span> results</span>
                        </span>
                    </div>
                    <button class="extract-button">Extract articles</button>
                    <button
                        class="abort-button"
                        id="abort-extract-btn"
                        style="display: none"
                    >
                        Abort
                    </button>
                    <div
                        class="spinner"
                        id="extract-spinner"
                        style="display: none"
                    ></div>
                </div>
                <div id="process-container">
                    <div id="process-message" style="display: none">
                        Finished fetching results, extracting text...
                    </div>
                    <br />
                    <div id="extraction-counter"></div>
                    <br />
                    <div id="pause-message" style="display: none">
                        <span id="premium-message" style="display: none"
                            >You seem to be logged out of your subscriber's
                            account: click
                            <a
                                style="color: #ff9900"
                                href="https://www.faz.net/aktuell/"
                                target="_blank"
                                >here</a
                            >
                            to log in, then come back to resume.
                        </span>
                        <span id="reg-message" style="display: none"
                            >You seem to be logged out of your reader's account:
                            click
                            <a
                                style="color: #ff9900"
                                href="https://www.faz.net/aktuell/"
                                target="_blank"
                                >here</a
                            >
                            to log in, then come back to resume.</span
                        >
                        <button id="resume-btn">Resume</button>
                    </div>
                </div>
                <div id="output-container"></div>
                <div id="list-wrapper">
                    <br />
                    <div id="premium-list" style="display: none">
                        <span id="premium-nb"></span> skipped.
                        <a href="https://www.faz.net/aktuell/" target="_blank"
                            >Log into your FAZ account</a
                        >
                        and retry.
                        <br />
                        <div
                            id="show-premium-list"
                            class="show-list"
                            style="display: inline"
                        >
                            Show list 🔽
                        </div>
                        <div
                            id="hide-premium-list"
                            class="hide-list"
                            style="display: none"
                        >
                            Hide list 🔼
                        </div>
                        <ul id="premium-links" style="display: none"></ul>
                    </div>
                    <div id="error-list" style="display: none">
                        <span id="error-nb"></span>
                        <span>responded with an error. </span>
                        <div
                            id="show-list"
                            class="show-list"
                            style="display: inline"
                        >
                            Show list 🔽
                        </div>
                        <div
                            id="hide-list"
                            class="hide-list"
                            style="display: none"
                        >
                            Hide list 🔼
                        </div>
                        <ul id="error-links" style="display: none"></ul>
                    </div>
                    <div id="no-content-list" style="display: none">
                        <span id="no-content-nb"></span>
                        <span>could not be processed. </span>
                        <div
                            id="show-nc-list"
                            class="show-list"
                            style="display: inline"
                        >
                            Show list 🔽
                        </div>
                        <div
                            id="hide-nc-list"
                            class="hide-list"
                            style="display: none"
                        >
                            Hide list 🔼
                        </div>
                        <ul id="no-content-links" style="display: none"></ul>
                    </div>
                    <br />
                </div>
                <div id="dl-container" style="display: none">
                    <select id="format" style="display: inline-block">
                        <option value="txt">TXT</option>
                        <option value="xml">XML/XTZ</option>
                        <option value="ira">Iramuteq</option>
                    </select>
                    <button id="dl-button" style="display: inline-block">
                        Download
                    </button>
                </div>
                <div id="file-list"></div>
            </div>
        </fieldset>
        <dialog id="dialog" style="text-align: center">
            <div>
                You have chosen to scrape premium articles: are you logged into
                your account?
            </div>
            <br />
            <div>
                <button id="yes-btn">Yes</button><button id="no-btn">No</button>
            </div>
        </dialog>
    </body>
</html>
